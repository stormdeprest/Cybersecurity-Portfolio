# Penetration Testing Fundamentals

## What is a Penetration Test?

**Penetration Test (Pentest)**: Authorized, ethically-driven security test using real attacker tools, techniques, and methodologies.

**Purpose**: Identify vulnerabilities before malicious actors do.

**Key Stat**: 2,200+ cyber attacks/day (~1 every 39 seconds)

---

## Legality & Ethics

### What Makes It Legal?
**Authorization** = the key difference.

- **Legal**: Authorized audit agreed upon by system owners
- **Illegal**: Anything outside the agreed scope

### Hacker Categories

| Hat | Description | Example |
|-----|-------------|---------|
| **White Hat** | Ethical, law-abiding | Authorized pentesters |
| **Grey Hat** | Beneficial but not always legal | Taking down scam sites |
| **Black Hat** | Criminal, malicious intent | Ransomware authors |

### Ethics in Pentesting
Even authorized actions can be ethically questionable (e.g., phishing employees, accessing sensitive database data). If agreed upon in scope = legal, but still may feel morally complex.

---

## Rules of Engagement (ROE)

**Definition**: Document created before engagement defining how test is conducted.

**Three Sections:**

| Section | Purpose | Example |
|---------|---------|---------|
| **Permission** | Legal authorization for engagement | Signed authorization from system owner |
| **Test Scope** | Defines specific targets | Only servers A & B, not entire network |
| **Rules** | Permitted techniques | Phishing prohibited; MITM attacks allowed |

---

## Testing Methodologies

### Standard Pentest Stages

| Stage | Description |
|-------|-------------|
| **Information Gathering** | OSINT, public research (no active scanning) |
| **Enumeration/Scanning** | Discover applications, services, systems |
| **Exploitation** | Leverage vulnerabilities (public exploits or logic flaws) |
| **Privilege Escalation** | Expand access (horizontal = same level; vertical = higher level/admin) |
| **Post-Exploitation** | Pivot to other hosts, gather info, cover tracks, report |

---

## Industry Frameworks

### OSSTMM (Open Source Security Testing Methodology Manual)

**Focus**: How systems/applications communicate.

**Covers**: Telecommunications, wired networks, wireless communications.

**Pros**: Detailed, flexible, covers specific targets, universal standard
**Cons**: Difficult to understand, complex terminology

### OWASP (Open Web Application Security Project)

**Focus**: Web applications and services exclusively.

**Known For**: Top 10 Web Vulnerabilities list (regularly updated).

**Pros**: Easy to understand, actively maintained, covers full engagement cycle
**Cons**: Overlapping vulnerability types, no SDLC guidance, no CHECK accreditation

### NIST Cybersecurity Framework 1.1

**Focus**: Improve organizational security standards and risk management.

**Covers**: Critical infrastructure to commercial organizations.

**Pros**: Used by ~50% of US organizations, detailed standards, accreditation, frequently updated
**Cons**: Many iterations (confusing), weak auditing policies, doesn't cover cloud computing

### NCSC CAF (Cyber Assessment Framework)

**Focus**: Organizations with "vitally important services" (critical infrastructure, banking).

**Covers**: Data security, system security, IAM, resiliency, monitoring, response & recovery.

**Pros**: Government-backed, accreditation available, 14 comprehensive principles
**Cons**: New framework, principle-based (not prescriptive rules)

---

## Testing Scopes

### Black-Box Testing
**Knowledge Level**: None

**Description**: Tester acts as regular user with no internal knowledge.

**Characteristics:**
- Tests functionality and user interaction
- No programming knowledge required
- Longest information gathering phase
- Simulates real external attacker

### Grey-Box Testing
**Knowledge Level**: Limited/Partial

**Description**: Most popular for pentesting - combines black and white box.

**Characteristics:**
- Some knowledge of internal components
- Interacts as if black-box scenario
- Time-efficient for well-hardened surfaces
- Realistic while reducing discovery time

### White-Box Testing
**Knowledge Level**: Full

**Description**: Low-level testing with complete access to code and logic.

**Characteristics:**
- Tests internal components thoroughly
- Requires programming knowledge
- Most time-consuming
- Guarantees complete attack surface coverage
- Usually performed by software developers

---

## Key Takeaways

- **Authorization** separates legal pentesting from criminal hacking
- **ROE document** defines scope, permissions, and rules before engagement
- **No one-size-fits-all** methodology - choose based on target type
- **Grey-box** most common for pentesting
- **White-box** most comprehensive
- **Black-box** most realistic (simulates real attacker)
- **OWASP** for web apps; **OSSTMM** for networks/communications; **NIST** for organizational standards